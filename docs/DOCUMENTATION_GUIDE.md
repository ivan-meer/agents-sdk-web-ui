# Руководство по документации проекта

## 1. Структура документации

Документация проекта должна включать следующие основные разделы:

```
docs/
├── ARCHITECTURE.md      # Общая архитектура системы
├── API.md               # Документация API
├── FRONTEND.md          # Документация фронтенда (EN)
├── FRONTEND_RU.md       # Документация фронтенда (RU)
├── DEPLOYMENT.md        # Инструкции по развертыванию
├── DEVELOPMENT_GUIDE.md # Руководство разработчика
└── migrations/          # Миграции базы данных
```

## 2. Процесс ведения документации

### 2.1. Сценарии обновления документации

1. **Добавление новой функциональности**:
   - Создать раздел в соответствующем файле документации
   - Добавить схемы/диаграммы при необходимости
   - Обновить README если изменения значительные

2. **Изменение существующей логики**:
   - Обновить соответствующие разделы документации
   - Пометить устаревшую информацию (Deprecated)
   - Добавить migration guide если изменения ломающие

3. **Исправление багов**:
   - Добавить примечание в раздел "Известные проблемы"
   - После исправления - обновить статус

### 2.2. Последовательность действий

1. Перед началом работы:
   - Проверить существующую документацию
   - Определить какие разделы требуют обновления

2. В процессе разработки:
   - Вести changelog в отдельном файле
   - Делать скриншоты/схемы для сложных изменений
   - Помечать TODO в коде для мест, требующих документирования

3. После завершения работы:
   - Обновить соответствующие файлы документации
   - Проверить актуальность всех ссылок
   - Создать Pull Request с изменениями

## 3. Стандарты оформления

### 3.1. Форматирование текста
- Использовать Markdown
- Заголовки согласно иерархии (#, ##, ###)
- Код оформлять в ``` блоках с указанием языка
- Списки использовать для пошаговых инструкций

### 3.2. Визуализация
- Диаграммы в формате Mermaid
- Скриншоты интерфейса в PNG/WebP
- Логотипы в SVG/PNG (разрешение не менее 512px)

### 3.3. Языки
- Основная документация - на английском (EN)
- Дублирующая документация - на русском (RU)
- Комментарии в коде - на английском

## 4. Работа с версиями

1. Для каждой версии:
   - Создавать changelog в формате KeepAChangelog
   - Обновлять номер версии во всех файлах документации
   - Помечать дату релиза

2. Хранение истории:
   - Все изменения через Git
   - К каждому коммиту документации писать осмысленные сообщения
   - Использовать теги для версий (v1.0.0)

## 5. Автоматизация

1. Скрипты:
   - Валидация Markdown (`npm run lint:md`)
   - Проверка битых ссылок (`npm run check:links`)
   - Генерация схем (`npm run generate:diagrams`)

2. CI/CD:
   - Автоматическая сборка документации при пуше в main
   - Деплой на GitHub Pages/Vercel
   - Уведомления в Slack при изменениях

## 6. Инструкции и рекомендации

### 6.1. Для разработчиков

#### Обязательные требования:
1. Перед началом работы:
   - Ознакомиться с архитектурой системы (ARCHITECTURE.md)
   - Изучить руководство разработчика (DEVELOPMENT_GUIDE.md)
   - Проверить актуальность документации по своему направлению

2. В процессе разработки:
   - Вести документацию параллельно с кодом
   - Для новых функций:
     * Создать раздел в соответствующем файле документации
     * Добавить схемы взаимодействия (Mermaid)
     * Описать API изменения (если есть)
   - Для изменений существующей логики:
     * Обновить соответствующие разделы
     * Добавить раздел "Migration Guide" если изменения ломающие
   - Использовать стандартные шаблоны:
     ```markdown
     ### [Название функции]
     **Назначение**: 
     **Входные параметры**:
     **Возвращаемые значения**:
     **Пример использования**:
     ```

3. Перед коммитом:
   - Проверить актуальность всей документации
   - Убедиться что добавлены все необходимые схемы
   - Обновить CHANGELOG.md

#### Рекомендации:
- Использовать единый стиль оформления
- Делать скриншоты для UI изменений
- Писать документацию на английском языке
- Добавлять примеры кода с пояснениями

### 6.2. Для технических писателей:
   - Проверять актуальность документации раз в неделю
   - Собирать feedback от команды
   - Проводить ревью документации

### 6.3. Инструкции для ИИ-агентов

#### Общие принципы работы:
1. Анализ проекта:
   - Изучать структуру проекта через list_files
   - Анализировать зависимости через requirements.txt/pyproject.toml
   - Читать документацию (ARCHITECTURE.md, DEVELOPMENT_GUIDE.md)

2. Работа с кодом:
   - Использовать replace_in_file для точечных изменений
   - Применять write_to_file для создания новых файлов
   - Проверять изменения через execute_command (тесты, линтеры)

3. Взаимодействие:
   - Четко формулировать запросы через ask_followup_question
   - Предоставлять отчеты в attempt_completion
   - Следовать правилам из CONTRIBUTING.md

#### Конкретные инструкции:
1. Для анализа:
```python
# Пример анализа зависимостей
def analyze_dependencies():
    with open('requirements.txt') as f:
        deps = f.readlines()
    return {
        'total': len(deps),
        'main': [d.strip() for d in deps if d.strip() and not d.startswith('#')]
    }
```

2. Для модификации кода:
```markdown
Шаблон изменений:
новый_код
```

3. Для создания отчетов:
```markdown
# Отчет по анализу проекта

## 1. Общая структура
- Количество модулей: X
- Основные компоненты: A, B, C

## 2. Ключевые зависимости
- Основные: Dep1, Dep2
- Устаревшие: OldDep (версия 1.2)

## 3. Рекомендации
- Обновить OldDep до версии 2.0
- Рефакторинг модуля X
```

#### Лучшие практики:
- Делать небольшие атомарные изменения
- Проверять каждое изменение перед коммитом
- Документировать все изменения
- Следовать стилю кода проекта
